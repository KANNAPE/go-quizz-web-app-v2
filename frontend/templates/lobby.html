{{ define "title" }}App Â· Lobby{{ end }}

{{ define "content" }}
<h1>Welcome, {{ .Username }}!</h1>
<code>{{ .LobbyID }}</code>
<br>

<hr>

<div id="chat-box"></div>

<form id="chat-form">
    <input type="text" id="chat-input" autocomplete="false" placeholder="Type a message..." />
    <button>Send</button>
</form>
<script>
    // const wsScheme = location.protocol === "https:" ? "wss" : "ws";
    // const wsUrl = wsScheme + "://" + location.host + location.pathname;
    // const ws = new WebSocket(wsUrl);

    // ws.onmessage = (e) => {
    //     const msg = JSON.parse(e.data);
    //     const box = document.getElementById("chat-box");
    //     const div = document.createElement("div");
    //     const sender = document.createElement("u");

    //     sender.textContent = msg.username + ":";
    //     div.appendChild(sender);

    //     div.textContent = " " + msg.text;
    //     box.appendChild(div);

    //     box.scrollTop = box.scrollHeight;
    // };

    // document.getElementById("chat-form").onsubmit = (e) => {
    //     e.preventDefault();

    //     const input = document.getElementById("chat-input");
    //     if (input.value.trim() !== "") {
    //         ws.send(input.value);
    //         input.value = "";
    //     }
    // };
</script>
{{ end }}